/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Base / reset ---------- */
:root {
  --ring: 0 0 0;            /* legacy var used in some cards */
  scrollbar-gutter: stable both-edges;  /* Reserve scrollbar space → prevents CLS */
}

*, *::before, *::after { @apply box-border; }

html, body {
  @apply bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100;
}

/* Always reserve vertical scrollbar to avoid width jumps on Windows */
html { overflow-y: scroll; }

a, button { -webkit-tap-highlight-color: transparent; }

/* ---------- Accessible focus (keyboard only) ---------- */
:where(button, [role="button"], a, input, select, textarea) { @apply outline-none; }
:where(button, [role="button"], a, input, select, textarea):focus-visible {
  @apply ring-2 ring-indigo-500 ring-offset-2 ring-offset-white dark:ring-offset-neutral-900;
}

/* Sliders also get a visible ring */
input[type="range"]:focus-visible {
  @apply ring-2 ring-sky-400 ring-offset-2 ring-offset-white dark:ring-offset-neutral-900;
}

/* ---------- Utilities ---------- */
.line-clamp-2{
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

/* Softer shadows on dark backgrounds */
@media (prefers-color-scheme: dark){
  .shadow-sm { box-shadow: 0 1px 2px rgb(0 0 0 / 0.25); }
  .hover\:shadow-md:hover { box-shadow: 0 4px 12px rgb(0 0 0 / 0.35); }
}

/* ---------- Export / print helpers (scoped; no more global overflow tweak) ---------- */
[data-export-paused="1"] .sticky { position: static !important; top: auto !important; }
/* only during export do we relax overflow — NOT globally (prevents CLS) */
[data-export-paused="1"] #__next,
[data-export-paused="1"] body,
[data-export-paused="1"] html { overflow: visible !important; }

/* ---------- Charts: visible focus without layout shift ---------- */
figure:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgb(99 102 241 / 0.8); /* indigo-500 */
  border-radius: 12px;
}

/* Comfortable touch targets */
.hit-44{
  min-width:44px;
  min-height:44px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
